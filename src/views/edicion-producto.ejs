<%- include("partials/head") %>-

    <%- include("partials/header") %>

        <%- include("partials/navbar") %>

            <body>
                <main>
                    <form id="form" action="/product/edit/<%= product.id %>?_method=PUT" method="POST"
                        enctype="multipart/form-data">
                        <h3 id="titleFormCreate">Editar Producto</h3>
                        <div class="container-edicion-producto">
                            <!--Grupo Nombre-->

                            <label for="nombre" class=" form__label-create"><b>Nombre del Producto</b></label>
                            <div>
                                <input 
                                type="text" 
                                class="form form__group-error <%= locals.errors && errors.name ? "
                                    form__group-incorrecto" : null %> form__group-input" 
                                    name="name" 
                                    id="name" >
                                    value="<%= product.name %>"
                                    <% if (locals.errors && errors.name){%>
                                    <div>
                                        <%errors.name.msg%> 
                                    </div>
                                   <% } %> 
                            </div>
                                    
                                    <i class="form__validation-state fas fa-times-circle" id="name-icon"></i>

                                    <p class="form__input-error" id="p-error-name">El nombre deberá tener al menos 5
                                        caracteres</p>

                            <!--Grupo Descripción-->
                            <label for="descripcion" class="form__label-create"><b>Descripción</b></label>
                            <div>
                                <textarea class="form__group-error form__group-input <%= locals.errors && errors.descripcion? "form__group.incorrecto" : null %>" name="descripcion" value= "<%= locals.oldData? old.Data.descripcion : null %>"
                                    id="descripcion" cols="30" rows="10"><%= product.description %></textarea>
                                <i class="form__validation-state fas fa-times-circle" id="descripcion-icon"></i>
                                <p class="form__input-error" id="p-error-descripcion">La descripción deberá tener al
                                    menos 20 caracteres</p>
                            </div>

                            <!--Grupo Imagen del Producto-->
                            <label for="imagen" class="form__label-create"><b>Imagen del Producto</b></label>
                            <div>
                                <input class="form__group-error form__group-input" type="file" name='imagen-producto'
                                    accept=".jpg, .jpeg, .png, .gif" multiple="multiple">
                                <i class="form__validation-state fas fa-times-circle"></i>
                                <p class="form__input-error">Deberá ser un archivo válido (JPG,JPEG,PNG,GIF)</p>
                            </div>
                            <!--Grupo Categoría-->
                            <label class="form__label-create"><b>Categoría</b></label>
                            <select class="form__group-input" name="categoria" id="categoria">
                                <option value="">Seleccione uno</option>
                                <option value="Motherboard" <%=product.category=="Motherboard" && 'selected' %>
                                    >Motherboards</option>
                                <option value="Procesadores" <%=product.category=="Procesadores" && 'selected' %>
                                    >Procesadores</option>
                                <option value="Memorias" <%=product.category=="Memorias" && 'selected' %>>Memorias
                                </option>
                                <option value="Fuentes" <%=product.category=="Fuentes" && 'selected' %>>Fuentes
                                </option>
                                <option value="Gabinetes" <%=product.category=="Gabinetes" && 'selected' %>
                                    >Gabinetes
                                </option>
                                <option value="Almacenamiento" <%=product.category=="Almacenamiento" && 'selected' %>
                                    >Almacenamiento</option>
                                <option value="Placa de video" <%=product.category=="Placa de video" && 'selected' %>
                                    >Placa de video</option>
                                <option value="Periferico">
                                    <%= product.category=="Periferico" && 'selected' %>Periferico
                                </option>
                            </select>
                            <label class="form__label-create"><b>Marca</b></label>

                            <select class="form__group-input" name="marca" id="marca">
                                <option value="general">Seleccione uno</option>
                                <option value="amd" <%=product.trademark=="AMD" && 'selected' %>>AMD</option>
                                <option value="intel" <%=product.trademark=="intel" && 'selected' %>>INTEL</option>
                                <option value="sentey" <%=product.trademark=="sentey" && 'selected' %>>Sentey
                                </option>
                                <option value="gigabyte" <%=product.trademark=="gigabyte" && 'selected' %>>Gigabyte
                                </option>
                                <option value="asus" <%=product.trademark=="asus" && 'selected' %>>Asus</option>
                                <option value="msi" <%=product.trademark=="msi" && 'selected' %>>MSI</option>
                                <option value="corsair" <%=product.trademark=="corsair" && 'selected' %>>Corsair
                                </option>
                                <option value="hyperx" <%=product.trademark=="hyperx" && 'selected' %>>HyperX
                                </option>
                            </select>
                            <label class="form__label-create"><b>Modelo</b></label>

                            <input class="form__group-input" type="text" name="model" id="model"
                                value="<%= product.model %>">
                            <label class="form__label-create"><b>Status</b></label>

                            <select class="form__group-input" name="status" id="status">
                                <option value="">Seleccione uno</option>
                                <option value="destacado" <%=product.status=="destacado" && 'selected' ? 'selected' : ""
                                    %>>Destacados</option>
                                <option value="ofertas" <%=product.status=="ofertas" && 'selected' ? 'selected' : "" %>
                                    >Ofertas</option>
                            </select>
                            <label class="form__label-create"><b>Familia</b></label>

                            <select class="form__group-input" name="families" id="families">
                                <option value="">Seleccione Uno</option>
                                <option value="intel" <%=product.status=="intel" && 'selected' ? 'selected' : "" %>
                                    >Intel</option>
                                <option value="amd" <%=product.status=="amd" && 'selected' ? 'selected' : "" %>>AMD
                                </option>
                            </select>
                            <label class="form__label-create"><b>Garantía</b></label>

                            <input class="form__group-input" type="text" placeholder="Garantia" name="warranty"
                                value="<%=product.warranty ? product.warranty : "" %>">
                            <label class="form__label-create"><b>Precio</b></label>

                            <input class="form__group-input" type="number" name="price" id="price"
                                value="<%= product.price %>">
                            <div class="form__mensaje" id="form__mensaje">
                                <p class="form__btn-error"><i class="fas fa-exclamation-triangle"></i><b>Error:</b>
                                    Por favor completar el formulario correctamente</p>
                            </div>

                            <!--Botones-->
                            <div class="botones">

                                <!--Boton confirmar edit-->

                                <div class="button-confirmar edit">
                                    <button type="submit" class="form__group-input">Confirmar</button>
                                </div>
                                <p class="form__mensaje-exito" id="form__mensaje-exito">Formulario enviado exitosamente!
                                </p>



                                <!--Boton borrar edit-->

                                <div class="button-borrar edit">
                                    <form class="form__group-input" action="/product/<%= product.id %>?_method=DELETE"
                                        method="POST">
                                        <button class="form__group-input" type="submit">Borrar producto</button>
                                </div>
                    </form>
                    </div>

                    </div>

                </main>

                <script src="/js/product-edit.js"></script>
                <script src="https://kit.fontawesome.com/2c36e9b7b1.js" crossorigin="anonymous"></script>
                <%- include("partials/footer") %>
            </body>
            <script src="/js/index.js"></script>

            </html>